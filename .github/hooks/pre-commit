#!/bin/bash

# Get the current branch name
branch_name=$(git rev-parse --abbrev-ref HEAD)

# Define the allowed branch name pattern
pattern='^(feature|bugfix|hotfix|release)\/HOLO-[0-9]+'

if [[ ! $branch_name =~ $pattern ]]; then
    echo "❌ Error: Invalid branch name '$branch_name'"
    echo "✅ Expected format: feature/HOLO-123-description"
    exit 1  # Block commit
fi

echo "✅ Branch name '$branch_name' is valid. Commit allowed."
exit 0  # Allow commit
